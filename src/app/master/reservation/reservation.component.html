<!-- new for design-->
<div *ngIf="reservloader" class="text-center loader-block" >
  <svg id="loader2" viewBox="0 0 100 100">
    <circle id="circle-loader2" cx="50" cy="50" r="45"></circle>
  </svg>
  </div>

  
  
  <div class="col-sm-12 col-xl-4">  
    </div>
   
  <div class="outerdiv">
    <div class="formdesign checkinforms" style="padding: 0;">
  
      <form [formGroup]="form" (ngSubmit)="Submit()" class="  " autocomplete="off">
  
        <div class="container-fluid">
   
          <div class='row tabouter' style="margin-bottom: 0;">  

          

            <div class="col-md-12" style="padding-left: 0;">
              <div class="row" style="margin-bottom: 0;">
                <div class="col-md-12 taboutercreatebtn">
                  <!-- tab starting -->                  
                  
                
  
                    <div class="reservationmaster">                     
                        <div [@fadeInOutTranslate] class=" ">
                          <div class="row" >
                            <div class="col-md-12" style="  padding-right:0">
                              <div class="accouter" style="width: 100%;">
                                <ngb-accordion [closeOthers]="true" activeIds="ngb-close-p1" #acc="ngbAccordion"
                                  class="ngb-accordion"> 
                                  <ngb-panel id="ngb-close-p1" title="Staying Information" >
                                    <ng-template ngbPanelContent>
                                      <div class="stayinginfo  gueststayinfo userlist guestinfolastrow">                                       
                                        <div class="col-md-12" style="padding-left: 0px;">

                                          <div class="tbl">
                                         
                                            <div class="rov">
                                              
                                              <div class="tdwidth">
                                                <div class="tdwidthlbl"><i class="fa fa-calendar" aria-hidden="true"></i> Arival Date</div>
                                                <input id="checkindate" name="checkindate"  formControlName="checkindate"  type="text" bsDatepicker [maxDate]="minDate"  [minDate]="minDate" placement="bottom"   [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',containerClass: 'theme-dark-blue'}" class="form-control">                                                
                                              </div>
                                              <div class="tdwidth tdwidthspcl">
                                                <div class="tdwidthlbl"><i class="fa fa-clock-o" aria-hidden="true"></i> Arival Time</div>
                                                <timepicker id="checkintime" name="checkintime"  (isValid)="isValid($event)"  [showSpinners]="false" formControlName="checkintime" [showMeridian]="ismeridian"></timepicker>
                                              </div>
                                              <div class="tdwidth">
                                                <div class="tdwidthlbl"><i class="fa fa-calendar" aria-hidden="true"></i> Days</div>
                                                <select class="custom-select" #Days name="nofdays" formControlName="nofdays" (change)="ChangeCheckoutDate(Days.value)"
                                                id="nofdays" [ngClass]="{ 'is-invalid': submitted && form.nofdays.errors }">
                                                <option value="0">Select</option>
                                                <option  *ngFor="let Day of noofdays" [value]="Day">
                                                  {{ Day  }}</option>
                                              </select>
                                              </div>
                                              <div class="tdwidth">
                                                <div class="tdwidthlbl"><i class="fa fa-calendar" aria-hidden="true"></i> Departure Date</div>
                                                <input id="checkoutdate" name="checkoutdate"  formControlName="checkoutdate" placement="right" type="text"   bsDatepicker   [minDate]="minDate" placement="bottom"  [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',containerClass: 'theme-dark-blue', selectFromOtherMonth: true  }" class="form-control">
                                              </div>
                                              <div class="tdwidth">
                                                <div class="tdwidthlbl"><i class="fa fa-clock-o" aria-hidden="true"></i> Departure Time</div>
                                                <timepicker id="checkouttime" name="checkouttime"  (isValid)="isValid($event)" [showSpinners]="false" formControlName="checkouttime" [showMeridian]="ismeridian"></timepicker> 
                                              </div>
                                            </div>
                                          </div>
                                          


                                        
                                         
                                      

                                      </div>
                                      
   
                                      </div>
                                    </ng-template>
                                  </ngb-panel>




                                  <ngb-panel id="ngb-close-p1"  title="Guest Information">
                                    <ng-template ngbPanelContent >
                                  
                                       <div class="col-md-12" style="padding-left:0; padding-right:0">
                                         
                                         
      
                                             <!--  test row 1-->
                                             <div class="guestinfofirstrow userlist " >
                                                
                                            <div class="row guestinfofirstrow" >
                                             
                                              <div class='col-12 col-lg-1 col-md-4 col-sm-4'>
                                                <div class="form-group">
                                                  <label class="form-control-label" for="title ">Title</label>
                                                  <select class="custom-select" name="title" formControlName="title"
                                                    id="title"
                                                    [ngClass]="{ 'is-invalid': submitted && form.title.errors }">
                                                    <option value="select">Select</option> 
                                                    <option  *ngFor="let Title of Titlelist"
                                                      [value]="Title.Description">{{ Title.Description  }}</option>
                                                  </select>
                                                  <div *ngIf="submitted && form.title.errors" class="invalid-feedback">
                                                    <div *ngIf="form.title.errors.required">title </div>
                                                  </div>
                                                </div>     
                                                </div>
                                              
                                               
                                      
                                              <div class='col-12 col-lg-4 col-md-4 col-sm-4'>
                                                <div class="form-group">
                                                  <label class="form-control-label" for="Guest Name">Guest Name </label>
                                                  <input type="text" class="form-control tooltip-form searchiconrelative uppercase" id="guestid" formControlName="guestname" name="guestname" autocomplete="off" [ngClass] = "{'is-invalid' : submitted && form.controls.guestname.errors || form.controls.guestname.touched || form.controls.guestname.dirty}" required    />  
                                                  <a href="javascript:;" class="m-r-15 crm-action-view text-info searchiconabsoulte" (click)="OpenGuestMosel('effect-5',data)" style="position: absolute;"><i class="fa fa-search"></i></a>
                                                
                                                  <div class="invalid-feedback" *ngIf="form.controls.guestname.errors?.required" >guestname fees is required</div>
                                                  </div>  
                                              </div>
                                              <div class='col-12 col-lg-1 col-md-4 col-sm-4'>
                                                <div class="form-group">
                                                  <label class="form-control-label" for="gender">  Gender </label>
                                                 <select class="custom-select"  name="gender" formControlName="gender"  id="genderid" [ngClass]="{ 'is-invalid': submitted && form.gender.errors }"> 
                                                   <option value="select">Select</option> 
                                                   <option *ngFor="let sour of gendertypes" [value]="sour.Description">{{ sour.Description  }}</option>
                                                 </select>
                                                 <div *ngIf="submitted && form.gender.errors" class="invalid-feedback">
                                                  <div *ngIf="form.gender.errors.required">gender is required</div>
                                                </div>
                                                  </div>  
                                              </div>

                                              <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                <div class="form-group">
                                                  <label class="form-control-label" for="Reference">Reference </label>
                                                 
                                                    <input type="text" class="form-control tooltip-form searchiconrelative" id="RefName" formControlName="RefName" name="RefName" autocomplete="off"  required  />   
                                                    <a href="javascript:;" class="m-r-15 crm-action-view text-info searchiconabsoulte" (click)="OpenReferanceModel('effect-6',data)" style="position: absolute;"><i class="fa fa-search"></i></a>
                                                  
                                                  
                                                  </div>  
    
                                              </div>

                                              <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                <div class="form-group">
                                                  <label class="form-control-label" for="mobile">Mobile </label>
                                                  <input type="text" class="form-control tooltip-form" id="mobileid" formControlName="mobile" name="mobile" autocomplete="off" [ngClass] = "{'is-invalid' : submitted && form.controls.mobile.errors || form.controls.mobile.touched || form.controls.mobile.dirty}" required  />  
                                                  <div class="invalid-feedback" *ngIf="form.controls.guestname.errors?.required" >mobile   is required</div>
                                                  </div>  
                                              </div>
                                              <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                <div class="form-group">
                                                  <label class="form-control-label" for="email">Email </label>
                                                  <input type="email" class="form-control tooltip-form" id="emailid" formControlName="email" name="email" autocomplete="off" [ngClass] = "{'is-invalid' : submitted && form.controls.email.errors || form.controls.email.touched || form.controls.email.dirty}" required  />  
                                                  <div class="invalid-feedback" *ngIf="form.controls.mobile.errors?.required" >email   is required</div>
                                                  </div>  
                                              </div>
                                             
                                          </div> <!-- end row -->
      
      
                                          <div class="row  guestinfofirstrow" >

                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="pincode">Pincode </label>
                                                <input type="text" class="form-control tooltip-form searchiconrelative" id="pincode" formControlName="pincode" name="pincode" autocomplete="off" [ngClass] = "{'is-invalid' : submitted && form.controls.pincode.errors || form.controls.pincode.touched || form.controls.pincode.dirty}" required style="position: relative;"  />  
                                                <a href="javascript:;" class="m-r-15 crm-action-view text-info" (click)="openMyModalPincode('effect-4',data)" style="position: absolute;top:22px; right:0"><i class="fa fa-search"></i></a>
                                             
  
                                                <div class="invalid-feedback" *ngIf="form.controls.pincode.errors?.required" >pincode   is required</div>
                                                </div>  
                                            </div>
                                            
                                            
                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="city">City </label>
                                                <input type="text" class="form-control tooltip-form searchiconrelative" id="city" formControlName="city" name="city" autocomplete="off" [ngClass] = "{'is-invalid' : submitted && form.controls.city.errors || form.controls.city.touched || form.controls.city.dirty}" required  />  
                                                 <div class="invalid-feedback" *ngIf="form.controls.city.errors?.required" >city   is required</div>
                                                </div>  
                                            </div>
                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="state">State </label>
                                                <input type="text" class="form-control tooltip-form" id="state" formControlName="state" name="state" autocomplete="off" [ngClass] = "{'is-invalid' : submitted && form.controls.state.errors || form.controls.state.touched || form.controls.state.dirty}" required  />  
                                                <div class="invalid-feedback" *ngIf="form.controls.state.errors?.required" >state   is required</div>
                                                </div>  
                                            </div>
                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <!-- <div class="form-group">
                                                <label class="form-control-label" for="nation">Nation </label>
                                                <input type="text" class="form-control tooltip-form" id="nation" formControlName="nation" name="nation" autocomplete="off" [ngClass] = "{'is-invalid' : submitted && form.controls.nation.errors || form.controls.nation.touched || form.controls.nation.dirty}" required  />  
                                                <div class="invalid-feedback" *ngIf="form.controls.nation.errors?.required" >nation   is required</div>
                                                </div>   -->
  
                                                <div class="form-group">
                                                    <label class="form-control-label" for="nation ">Nation</label>
                                                    <select class="custom-select" name="nation" formControlName="nation"
                                                      id="nation"
                                                      [ngClass]="{ 'is-invalid': submitted && form.nation.errors }">
                                                      <option value="select">Select</option> 
                                                      <option  *ngFor="let Nationd of Nationlist"
                                                        [value]="Nationd">{{ Nationd  }}</option>
                                                    </select>
                                                    <div *ngIf="submitted && form.nation.errors" class="invalid-feedback">
                                                      <div *ngIf="form.nation.errors.required">Nation </div>
                                                    </div>
                                                  </div>
  
                                            </div>
                                         
                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="company">Company </label>
                                               
                                                  <input type="text" class="form-control tooltip-form searchiconrelative" id="company" formControlName="company" name="company" autocomplete="off" [ngClass] = "{'is-invalid' : submitted && form.controls.company.errors || form.controls.company.touched || form.controls.company.dirty}" required  />   
                                                  <a href="javascript:;" class="m-r-15 crm-action-view text-info searchiconabsoulte" (click)="Opencompanymodel('effect-100',data)" style="position: absolute;"><i class="fa fa-search"></i></a>
                                                
                                                <div class="invalid-feedback" *ngIf="form.controls.company.errors?.required" >company   is required</div>
                                                </div>  
  
                                            </div>
  
                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="gstno">GSTNO </label>
                                                <input type="text" class="form-control tooltip-form" id="gstno" formControlName="gstno" name="gstno" autocomplete="off" [ngClass] = "{'is-invalid' : submitted && form.controls.gstno.errors || form.controls.gstno.touched || form.controls.gstno.dirty}" required  />  
                                                <div class="invalid-feedback" *ngIf="form.controls.gstno.errors?.required" >gstno   is required</div>
                                                </div>  
                                            </div>
                                           

                                           </div> <!-- end of row-->
                                          



                                           <div class="row  guestinfofirstrow"  >
                                            
                                            
                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="Address1">Address1</label>
                                                <input type="text" class="form-control tooltip-form searchiconrelative" id="Address1" formControlName="Address1" name="Address1" autocomplete="off"  required  />  
                                                 
                                                </div>  
                                            </div>

                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="Address1">Address2</label>
                                                <input type="text" class="form-control tooltip-form searchiconrelative" id="Address2" formControlName="Address2" name="Address2" autocomplete="off"  required  />  
                                                 
                                                </div>  
                                            </div>

                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="Address3">Address3</label>
                                                <input type="text" class="form-control tooltip-form searchiconrelative" id="Address3" formControlName="Address3" name="Address3" autocomplete="off"  required  />  
                                                 
                                                </div>  
                                            </div>

                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="Foreign Guest ">  Foreign Guest  </label>
                                               <select class="custom-select"  name="foriegnguest" formControlName="foriegnguest"  id="foriegnguest" [ngClass]="{ 'is-invalid': submitted && form.foriegnguest.errors }"> 
                                                 <option value="select">Select</option> 
                                                 <option [ngValue]="sour.Id" *ngFor="let sour of foriegnguest" [value]="sour">{{ sour  }}</option>
                                               </select>
                                               <div *ngIf="submitted && form.gender.errors" class="invalid-feedback">
                                                <div *ngIf="form.gender.errors.required">foriegnguest is required</div>
                                              </div>
                                                </div>  
                                            </div>
                                            <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                              <div class="form-group">
                                                <label class="form-control-label" for="firstname">Source </label>
                                               <select class="custom-select"  name="source" formControlName="source"  id="sourceid"> 
                                                 <option value="select">Select</option> 
                                                 <option  *ngFor="let itemsource of sourcemode" [value]="itemsource.Description">{{ itemsource.Description}}</option>
                                               </select>
                                               
                                                </div>  
                                                </div>
                                              
                                                 <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                  <div class="form-group">
                                                    <label class="form-control-label" for="Booking">Booking Id </label>
                                                    <input type="text" class="form-control tooltip-form" id="bookingid" formControlName="bookingid" name="bookingid" autocomplete="off"  />  
                                                    
                                                    </div>  
                                                </div>
                                           </div> <!-- end of row-->
                                           <div class="row guestinfofirstrow guestinfolastrow">
                                            
                                                <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                  <div class="form-group">
                                                    <label class="form-control-label" for="Booking">Convenience fees </label>
                                                    <input type="text" class="form-control tooltip-form" id="convenienceid" formControlName="convenience" name="convenience" autocomplete="off"   />  
                                                    <!-- <div class="invalid-feedback" *ngIf="form.controls.convenience.errors?.required" >convenience fees is required</div> -->
                                                    </div>  
                                                </div>
    
                                                <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                  <div class="form-group">
                                                    <label class="form-control-label" for="visit ">Purposse of Visit</label>
                                                    <select class="custom-select" name="visit" formControlName="visit" id="visit">
                                                      
                                                     
                                                      <option value="select">Select</option>
                                                      <option  *ngFor="let sour of purposeofvisit"
                                                        [value]="sour.Description">{{ sour.Description  }}</option>
                                                    </select>
                                                    
                                                  </div>
                                                </div>
                                               
         
                                                <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                  <div class="form-group">
                                                    <label class="form-control-label" for="Billing ">Billing Instruction</label>
                                                    <select class="custom-select" name="Billing" formControlName="Billing"
                                                      id="Billing"
                                                      [ngClass]="{ 'is-invalid': submitted && form.Billing.errors }">
                                                      <option value="select">Select</option>
                                                      <option  *ngFor="let sour of billinginstruction"
                                                        [value]="sour.Description">{{ sour.Description  }}</option>
                                                    </select>
                                                    <div *ngIf="submitted && form.Billing.errors" class="invalid-feedback">
                                                      <div *ngIf="form.Billing.errors.required">Billing Type</div>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                  <div class="form-group">
                                                    <label class="form-control-label" for="cometoknow ">How D U c to Know?</label>
                                                    <select class="custom-select" name="cometoknow" formControlName="cometoknow"
                                                      id="cometoknow">
                                                    
                                                      <option value="select">Select</option>
                                                      <option  *ngFor="let sour of howuknow"
                                                        [value]="sour.Description">{{ sour.Description  }}</option>
                                                    </select>
                                                    
                                                  </div>
                                                </div>
                                                <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                  <div class="form-group">
                                                    <label class="form-control-label" for="cometoknow ">Confirm</label>                                                  
                                                    <input type="checkbox" name="confirm" id="confirmid" class="form-control" style="width: 15px;" >
                                                  </div>
                                                </div>
                                                <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                                  <div class="form-group">
                                                    <label class="form-control-label" for="WaitingList ">Waiting List</label>                                                  
                                                    <input type="checkbox" name="confirm" id="waitingid" class="form-control" style="width: 15px;"  >
                                                  </div>
                                                </div>
                                      
      
                                          </div><!-- end 1 row -->

                                        </div>
                                            
                                          
                                            
                                           
                                         
                                       </div>
                                    </ng-template>
                                  </ngb-panel>
  
  
                                  <ngb-panel id="ngb-close-p1" title="Booking RoomTypes">
                                    
                                    <ng-template ngbPanelContent>
                                      <div class="test123 userlist guestinfofirstrow bookingroomtype" style="padding-left: 5px;">
                                        <div class="grid-table" style="width: 100%;">
                                          <div class="thead">
                                            <div class="">
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa  fa-bed"></i> Room Type</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa  fa-user-md"></i> Available</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa fa-building"></i> Req. Rooms</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa  fa-bed"></i> Pax</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa fa-indent"></i> Plan</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa fa-cutlery"></i> Food</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa  fa-bed"></i> Tariff</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa  fa-star"></i>Tax</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa  fa-bed"></i> Grand</div>
                                             
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa  fa-square"></i> DisType</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa  fa-truck"></i> DisAmt</div>
                                              <div class="td bookingRoomTable_textalign" style="text-align: center;"><i class="fa  fa-paypal"></i> Net</div>
                                              <!-- <div class="td">
                                                <button type="button"  class="btn btn-outline-success" (click)="AddBokingButtonClick()">
                                                  <i class="fa fa-plus">Add</i> 
                                                </button>
                                              </div> -->
                                              <!-- <div class="td">
                                                  <span *ngIf="notification" class="elementToFadeInAndOut">
                                                    <i class="fas fa-check-circle {{notification.class}}"></i>
                                                    {{notification.message}}
                                                  </span>
                                                </div> -->
                                            </div>
                                          </div>
                                          <div class="tbody">
  
                                            <div formArrayName="other"
                                              *ngFor="let other of form.get('other').controls; let i = index">
                                              <div [formGroupName]="i">
                                                <div class="tr">
                                                  <div class="td">
                                                    <input class="bookingRoomTable_textalign"  readonly formControlName="RoomCode">
                                                    <!-- <select   class="roomcodep-l-25" formControlName="RoomCode"
                                                      (change)="RoomTypeChanged(i,'RoomCode')">
                                                      <option value="0">Select</option>
                                                      <option *ngFor="let items of roomtype" value="{{items.RoomCode}}">
                                                        {{items.RoomCode}}</option>
                                                    </select> -->
                                                  </div>
  
                                                  <div class="td">
                                                    <input class="bookingRoomTable_textalign"  readonly  formControlName="Available">
                                                  </div>

                                                  <!-- <div class="td" >
                                                    <input type="number"   class="bookingRoomTable_textalign" (keyup)="RoomTypeChanged(i,'Required')" formControlName="Required">
                                                  </div> -->

                                                

                                                  <div class="td">
                                                    <select class="bookingRoomTable_textalign" formControlName="Required"
                                                      (change)="RoomTypeChanged(i,'Required')">
                                                      <option value="0">Select</option>
                                                      <option  *ngFor="let Requiredday of requiredRoomlist" [value]="Requiredday">
                                                        {{ Requiredday  }}</option>
                                                    </select>
  
                                                   
                                                  </div>
  
                                                  <div class="td">
                                                    <select class="bookingRoomTable_textalign" formControlName="Pax"
                                                      (change)="RoomTypeChanged(i,'Pax')">
                                                      <option value="0">Select</option>
                                                      <option value="1">1</option>
                                                      <option value="2">2</option>
                                                      <option value="3">3</option>
                                                      <option value="4">4</option>
                                                      <option value="5">5</option>
                                                      <option value="6">6</option>
                                                      <option value="7">7</option>
  
                                                    </select>
                                                  </div>
  
  
                                                  <div class="td">
                                                    <select class="bookingRoomTable_textalign" formControlName="PlanName"
                                                      (change)="RoomTypeChanged(i,'PlanName')">
                                                      <option value="0">Select</option>
                                                      <option *ngFor="let item of planlist" value="{{item.PlanName}}">
                                                        {{item.PlanName}}</option>
                                                    </select>
                                                  </div>
  
  
  
  
                                                  <div class="td">
  
                                                    <input class="bookingRoomTable_textalign" type="text" class="bookingRoomTable_textalign" id="Food" readonly  formControlName="Food">
                                                  </div>
  
                                                  <div class="td">
                                                    <input class="bookingRoomTable_textalign" formControlName="Tariff"
                                                      (change)="RoomTypeChanged(i,'TARIFF')">
                                                  </div>
  
                                                  <div class="td">
                                                    <input class="bookingRoomTable_textalign" readonly formControlName="Tax">
                                                  </div>
  
                                                  <div class="td">
                                                    <input class="bookingRoomTable_textalign" formControlName="Grand"
                                                      (change)="RoomTypeChanged(i,'GRAND')">
                                                  </div>
                                                 
                                                   
                                                  <div class="td">
                                                    <select class="custom-select" name="disctype" formControlName="disctype" id="disctype">                                                           
                                                    <option value="0">Select</option>
                                                    <option *ngFor="let sour of discounttypes"
                                                      [value]="sour">{{ sour  }}</option>
                                                  </select>
                                                  
                                                  </div>

                                                  <div class="td">
                                                    <input class="bookingRoomTable_textalign" formControlName="discvalue">
                                                  </div>
                                                  <div class="td">
                                                    <input class="bookingRoomTable_textalign" formControlName="Net">
                                                  </div>
                                                   
                                                  


  
                                                  <!-- <div class="td">
                                                    <button type="submit" class="btn" [disabled]="fg.invalid"
                                                       [ngClass]="(form.get('bankAccountID').value==0)?'btn-success':'btn-outline-dark'"><i class="far fa-save fa-lg"></i>
                                                      
                                                   </button>  
                                                    <button (click)="onDelete(0,i)">
                                                      <i class="fa fa-trash" aria-hidden="true"></i>
                                                    </button>
                                                  </div>-->
                                                </div>
                                              </div>
                                            </div>
  
  
                                          </div>
  
  
                                        </div>
                                      </div>
                                    </ng-template>
                                  </ngb-panel>
  
  
  
  
  
  
                                 <!-- <ngb-panel id="ngb-close-p1" title="Advance Payment">
                                    <ng-template ngbPanelContent>
                                      <div class="row paymentrow userlist">
  
                                         <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                          <div class="form-group">
                                            <label class="form-control-label" for="selmode "> Select mode </label>
                                            <select  (change)="FilterPaymentMode()"  class="custom-select" name="selmode" formControlName="selmode"
                                              id="selmode" [ngClass]="{ 'is-invalid': submitted && form.selmode.errors }">
                                              <option value="select">Select</option>
                                              <option *ngFor="let sour of paymentmode" [value]="sour">
                                                {{ sour  }}</option>
                                            </select>
                                            <div *ngIf="submitted && form.selmode.errors" class="invalid-feedback">
                                              <div *ngIf="form.selmode.errors.required">selmode is required</div>
                                            </div>
                                          </div>
                                        </div> 
  
                                       <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                          <div class="form-group">
                                            <label class="form-control-label" for="subpaymode "> Select Detail </label>
                                            <select class="custom-select" name="subpaymode" formControlName="subpaymode"
                                              id="subpaymode" [ngClass]="{ 'is-invalid': submitted && form.subpaymode.errors }">
                                              <option value="select">Select</option>
                                              <option *ngFor="let subpaymode of  subpaymodelist" [value]="subpaymode">
                                                {{ subpaymode  }}</option>
                                            </select>
                                            <div *ngIf="submitted && form.subpaymode.errors" class="invalid-feedback">
                                              <div *ngIf="form.subpaymode.errors.required">selmode is required</div>
                                            </div>
                                          </div>
                                        </div>  
  
                                  <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                          <div class="form-group">
                                            <label class="form-control-label" for="payamount">Payment </label>
                                            <input type="text" class="form-control tooltip-form" id="payamount"
                                              formControlName="payamount" name="payamount" autocomplete="off"
                                              [ngClass]="{'is-invalid' : submitted && form.controls.payamount.errors || form.controls.payamount.touched || form.controls.payamount.dirty}"
                                              required />
                                            <div class="invalid-feedback"
                                              *ngIf="form.controls.payamount.errors?.required">payamount is required</div>
                                          </div>
                                        </div> 
  
                                        <div class='col-12 col-lg-2 col-md-4 col-sm-4'>
                                          <div class="form-group">
                                            <label class="form-control-label" for="paymntdesc">Description </label>
                                            <textarea formControlName="paymntdesc" class="form-control " id="paymntdesc"
                                              style="height: 1.50rem;"></textarea>
                                            <div class="invalid-feedback"
                                              *ngIf="form.controls.paymntdesc.errors?.required">paymntdesc is required
                                            </div>
                                          </div>
                                        </div> 
  
  
                                      </div>
                                    </ng-template>
                                  </ngb-panel> -->
  
                                 
                                  
  
                                  <ngb-panel id="ngb-close-p1" title="Payment Array ">
                                    <ng-template ngbPanelContent>
                                      <div class="test123 userlist guestinfofirstrow paymentarray" style="padding-left: 5px;">
                                        <div class="">
                                          
                                            <div class="row">
                                            <div class="col-lg-10 col-md-10 col-xs-12">
                                              <div class="grid-table" style="width: 100%;">
                                                <div class="thead">
                                                  <div class="">
                                                    <div class="td"><i class="fa fa-cc-visa"></i> Pay Header</div>
                                                    <div class="td"><i class="fa fa-credit-card-alt"></i> Select PayType</div>
                                                    <div class="td"><i class="fa fa-credit-card-alt"></i> Amount</div>
                                                    <div class="td"><i class="fa fa-server"></i> Description</div>
                                                    <div class="td"><i class="fa fa-retweet"></i>Selected Mode</div>
                                                    
                                                    <div class="td lasttd">
                                                      <button type="button"   class=" " (click)="AddPaymentButtonClick()">
                                                        <i class="fa fa-plus"> </i> 
                                                      </button>
                                                    </div>
                                                  
                                                  </div>
                                                </div>
                                                <div class="tbody">
        
                                                  <div formArrayName="PayArray"
                                                    *ngFor="let other of form.get('PayArray').controls; let k = index">
                                                    <div [formGroupName]="k">
                                                      <div class="tr">
                                                        <div class="td">
                                                          <!-- <select   class="roomcodep-l-25" formControlName="RoomCode"
                                                            (change)="RoomTypeChanged(i,'RoomCode')">
                                                            <option value="0">Select</option>
                                                            <option *ngFor="let items of roomtype" value="{{items.RoomCode}}">
                                                              {{items.RoomCode}}</option>
                                                          </select> -->
        
                                                          <select  (change)="FilterPaymentMode(k)"  class="custom-select" name="Paymode" formControlName="Paymode"
                                                          id="Paymode" [ngClass]="{ 'is-invalid': submitted && form.Paymode.errors }">
                                                          <option value="select">Select</option>
                                                          <option *ngFor="let sour of paymentmode" [value]="sour">
                                                            {{ sour  }}</option>
                                                        </select>
        
        
                                                        </div>
        
                                                        <div class="td">
                                                          <select class="custom-select" (change)="PatchSubModeName(k)" name="Paysubmode" formControlName="Paysubmode"
                                                          id="Paysubmode" [ngClass]="{ 'is-invalid': submitted && form.Paysubmode.errors }">
                                                          <option value="select">Select</option>
                                                          <option *ngFor="let Paysubmode of  subpaymodelist" [value]="Paysubmode">
                                                            {{ Paysubmode  }}</option>
                                                        </select> 
        
        
                                                        </div>
        
                                                    <div class="td">
                                                     <input type="number"  id="payAmount"
                                                      formControlName="payAmount" name="payAmount" autocomplete="off" required />
                                                    
                                      
                                                        </div>
        
        
                                                        <div class="td">
                                                          <input type="text" class="" id="Descriptions" formControlName="Descriptions">
                                                          
                                                        </div>
        
                                                        <div class="td  ">
                                                          <input type="text" class="" id="modeselected" formControlName="modeselected">
                                                          
                                                        </div> 
                                                        <div class="td lasttd" style="text-align: center;">                                      
                                                          <button type="button" (click)="onDeletePayment(0,k)">
                                                            <i class="fa fa-trash" aria-hidden="true"></i>
                                                          </button>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
        
                                                 
      
                                                </div>
        
        
                                              </div>
                                            </div>
                                            <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12 width100" >
                                              <div class=" ">
                                                <label  id="BillAmount1"  ><span>Total Amount : </span> <b>10999.00</b> </label>   
                                                <label  id="BillAmount2" ><span>Paid Amount : </span> <b>1399.00</b> </label>   
                                                <label  id="BillAmount3"  ><span>Balance Amount : </span> <b>900.99</b> </label>                                                                              
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        
                                      
                                      </div>
                                    </ng-template>
                                  </ngb-panel>        
                                </ngb-accordion> 
                                <div class="otherrow  "> 
                                         
                                  <!-- button start  -->
                                <div class="col-md-12" style="text-align: center; ">
                                    <button type="submit" id="checkinbtn" class="btn btn-primary btn-sm m-r-5 m-l-5 ">Save</button>                                                                                 
                                  <button type="button" id="closebtn" class="btn btn-primary btn-sm">CLOSE</button>
                                </div> <!-- button end -->
                                
                          </div><!-- user list row -->
                              </div>
                            </div>
  
                          </div>
  
  
  
                        </div>
                      
                   
                      </div> <!-- end reser master -->
                   
  
              
                   
                  <!-- tab ending -->
  
                  
  
                </div>
  
              </div>
            </div>
  
  
  
  
  
  
  
          </div>
        </div><!-- container -->
       
      </form>
    </div>
  
  
  
  
  
  
  
  
  
  
  
  </div>
  
  
  
  
  
  <!-- ////companymodel --> 
  
      <app-modal-animation [modalID]="'effect-100'" [modalClass]="'md-effect-4 addressmodeleffect'">      
        <h3 class="f-15" >Company Details
          <!--<button style="position: absolute; right: 0; top:0; color:red"  (click)="closeMyModalPin($event)">Close</button>  -->           
       </h3>
        
       
        <div class="app-modal-body text-center" style="position: relative;"> 
          <div class="container">
            <div class="col-md-12 userlist ">
              <div class="row ">
                <a style="cursor: pointer; display:block; text-align: left; color:blue"*ngIf="addcompanybtn" (click)="addcompanyinmodel()"><i class="fa  fa-plus-circle"></i> Add Company  </a>
                <form #myform = "ngForm" (ngSubmit) = "onSubmitcompany(myform)" class="">
                  <div class="app-modal-body text-center addcompany " *ngIf="addcompanydiv" > 
       
                   <a style="cursor: pointer; display:block; text-align: left; color:blue"  (click)="backtosearch()"><i class="fa fa-backward"></i> Back to Search  </a>
                   <div class="col-md-12">
                      
                     <div class="row">                
                      <input type="hidden" name="Id" class="form-control" [(ngModel)]="model.Id" #Id="ngModel" value="{{Id}}"  >
                      <input type="hidden" name="CompanyCode" class="form-control" [(ngModel)]="model.CompanyCode" #CompanyCode="ngModel" value="{{CompanyCode}}"  >
                      <input type="hidden" name="BranchCode" class="form-control" [(ngModel)]="model.BranchCode" #BranchCode="ngModel" value="{{BranchCode}}">
                      <input type="hidden" name="CreatedBy" class="form-control" [(ngModel)]="model.CreatedBy" #CreatedBy="ngModel" value="{{CreatedBy}}">              
              
                       <div class="col-md-4">
                           <label>Company Name*</label>
                           <input type="text" name="CompanyName" class="form-control" [(ngModel)]="model.CompanyName" #CompanyName="ngModel" value="{{CompanyName}}"  [ngClass]="{'is-invalid': CompanyName.touched && CompanyName.invalid}"  required autocomplete="off">
                           <div *ngIf="CompanyName.touched && CompanyName.invalid" class="invalid-feedback">
                               <div *ngIf="CompanyName.errors.required">CompanyName is invalid</div>
                           </div>
                       </div>
                       <div class="col-md-4">
                           <label>GSTNO*</label>
                           <input type="text" name="GSTNO" class="form-control" [(ngModel)]="model.GSTNO" #GSTNO="ngModel" value="{{GSTNO}}"  [ngClass]="{'is-invalid': GSTNO.touched && GSTNO.invalid}"  required autocomplete="off">
                           <div *ngIf="GSTNO.touched && GSTNO.invalid" class="invalid-feedback">
                             <div *ngIf="GSTNO.errors.required">GSTNO is invalid</div>
                           </div>
                       </div>
                       <div class="col-md-4" [class.has-error]="CompanyType.errors?.defaultSelected && CompanyType.touched">
                         <label>Select Type*</label>
                             <select id="CompanyType" appSelectValidator="-1" class="custom-select"  #CompanyType="ngModel"  name="CompanyType" [(ngModel)]="model.CompanyType">
                               <option value="-1">Select Type</option>
                               <option [value]="cty.Name" *ngFor="let cty of companytype">{{ cty.Name }}</option>
                             </select>
                             <span class="help-block" *ngIf="CompanyType.touched && CompanyType.errors?.defaultSelected">
                               CompanyType is required
                               </span>  
                     </div>
                     </div>
                     <div class="row">
                       <div class="col-md-4">
                            <label>ContactName*</label>
                            <input type="text" name="ContactName" class="form-control" [(ngModel)]="model.ContactName" #ContactName="ngModel" value="{{ContactName}}"  [ngClass]="{'is-invalid': ContactName.touched && ContactName.invalid}"  required autocomplete="off">
                            <div *ngIf="ContactName.touched && ContactName.invalid" class="invalid-feedback">
                                <div *ngIf="ContactName.errors.required">ContactName is invalid</div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label>MobileNo*</label>
                            <input type="number" name="MobileNo" class="form-control" [(ngModel)]="model.MobileNo"  maxlength="10" #MobileNo="ngModel" value="{{MobileNo}}"  [ngClass]="{'is-invalid': MobileNo.touched && MobileNo.invalid}"  required autocomplete="off">
                            <div *ngIf="MobileNo.touched && MobileNo.invalid" class="invalid-feedback">
                              <div *ngIf="MobileNo.errors.required">MobileNo is invalid</div>
                            </div> 
                            </div>
                        <div class="col-md-4">
                                <label>Email*</label>
                                <input type="email" name="Email" class="form-control" [(ngModel)]="model.Email" #Email="ngModel" value="{{Email}}"  [ngClass]="{'is-invalid': Email.touched && Email.invalid}"  required autocomplete="off">
                                <div *ngIf="Email.touched && Email.invalid" class="invalid-feedback">
                                  <div *ngIf="Email.errors.required">Email is invalid</div>
                                </div>
                            </div>
                      </div>
                      <button type="submit" class="btn btn-success btn-sm btn-block" style="margin-top:20px;  ">Save</button>
                      <br/>
                      <hr>
       
                   </div>
             
                 </div> <!-- company div -->
             </form>
              </div> <!-- form end -->
              <div class="row  ">
                <div class="searchresults" *ngIf="searchresultsdiv" style="width: 100%;">
                  <div class="table-content crm-table">
                    <div class="project-table addressproject-table">
                      <div id="crm-contact" class="dt-responsive">
                        <div class="row">         
                              <div class="col-xs-12 col-sm-12 col-md-12">
                                <div class="input-group">
                                  <input type="text" appAutofocus #searchTermcompany class="form-control input-lg full-data-search" placeholder="Search here...">
                                  <span class="input-group-append ripple light" id="basic-addon1">
                                    <i class="fa fa-search input-group-text" style="font-size: 100%;"></i>                          
                                  </span>
                                </div> 
                              </div>      
                        </div>             
                         <div class="table-responsive">
                          <table class="table table-striped table-bordered full-data-table"> 
                                <thead>
                                <tr class="blueorange-gradient">        
                                <th>CompanyName</th>             
                                <th>GSTNO </th>                       
                                <th>Action</th>
                            </tr>
                            <tr> </tr>               
                            </thead>
                            <tbody>                    
                             <tr *ngFor="let item of companylist; let i = index;">                     
                               <td>{{item.CompanyName}}</td>   
                               <td>{{item.GSTNO}}</td>                              
                              <td class="action-icon">
                                  <a href="javascript:;" class="m-r-15 crm-action-edit text-primary"  md-button (click)="OpencompanymodelsDetail(item,$event)">  <i class="fa fa-download" aria-hidden="true"></i></a>                     
                              </td>
                            </tr>  
                            </tbody>
                          
                          </table>
                        </div> 
                      </div>
                    </div>
                  </div>
                </div>    <!-- search results  div --> 
              </div><!-- end serach results-->
            </div>
          </div>
        </div>
  
        
  
          <div class="app-modal-body text-center" style="position: relative;">  
                 <button (click)="closeMyModalPin($event)" class="btn btn-danger waves-effect m-r-20 f-w-600 md-close d-inline-block">Close</button>   
            </div>  
  
          </app-modal-animation>
  
  
  
  
          
  <!-- ////drivermodel --> 
      <app-modal-animation [modalID]="'effect-9'" [modalClass]="'md-effect-4 addressmodeleffect'">
        <h3 class="f-15">Driver Details</h3>
          <div class="app-modal-body text-center" style="position: relative;"> 
            <div class="table-content crm-table">
              <div class="project-table addressproject-table">
                <div id="crm-contact" class="dt-responsive">
                               
                  <div class="row">         
                    <div class="col-xs-12 col-sm-12 col-md-12">
                      <div class="input-group">
                        <input type="text" #searchTermdriver class="form-control input-lg full-data-search" placeholder="Search here...">
                        <span class="input-group-append ripple light" id="basic-addon1">
                          <i class="fa fa-search input-group-text" style="font-size: 100%;"></i>                          
                        </span>
                      </div> 
                    </div>      
              </div>   
                   <div class="table-responsive">
                    <table class="table table-striped table-bordered full-data-table"> 
                          <thead>
                          <tr class="blueorange-gradient">        
                          <th>DriverName</th>             
                          <th> MobileNo </th>
                          <th> VechileNo </th>                       
                          <th>Action</th>
                      </tr>
                      <tr> </tr>               
                      </thead>
                      <tbody>                    
                       <tr *ngFor="let item of driverlist; let i = index;">                     
                         <td>{{item.DriverName}}</td>   
                         <td>{{item.MobileNo}}</td>  
                         <td>{{item.VechileNo}}</td>                             
                        <td class="action-icon">
                            <a href="javascript:;" class="m-r-15 crm-action-edit text-primary"  md-button (click)="OpenDrivermodelsDetail(item,$event)"><i class="fa fa-download" aria-hidden="true"></i></a>                     
                        </td>
                      </tr>  
                      </tbody>
                      <!-- <tfoot>
                      <tr class="blueorange-gradient">     
                      <th>DriverName</th>            
                      <th>MobileNo</th>                          
                      <th>VehicleNo</th>    
                      <th>Action</th>      
                      </tr>              
                      </tfoot> -->
                    </table>
                  </div> 
                </div>
              </div>
            </div>     
                 <!--<button (click)="closeMyModalPin($event)" class="btn btn-danger waves-effect m-r-20 f-w-600 md-close d-inline-block">Close</button>   -->          
            </div>      
          </app-modal-animation>
  
  
  <!-- 
  ////guestname -->
  <app-modal-animation [modalID]="'effect-5'" [modalClass]="'md-effect-4 addressmodeleffect'">   
    <h3 class="f-15" style="position: relative;">Guest Details
    <!--  <button style="position: absolute; right: 0; top:0; color:red"  (click)="closeMyModalPin($event)">Close</button> -->
   </h3>
      <div class="app-modal-body text-center" style="position: relative;"> 
        <div class="table-content crm-table">
          <div class="project-table addressproject-table">
            <div id="crm-contact" class="dt-responsive">           
              <div class="row">         
                <div class="col-xs-12 col-sm-12 col-md-12">
                  <div class="input-group">
                    <input type="text" #searchTermguest class="form-control input-lg full-data-search" placeholder="Search here...">
                    <span class="input-group-append ripple light" id="basic-addon1">
                      <i class="fa fa-search input-group-text" style="font-size: 100%;"></i>                          
                    </span>
                  </div> 
                </div>      
          </div>  
  
               <div class="table-responsive">
                <table class="table table-striped table-bordered full-data-table"> 
                      <thead>
                      <tr class="blueorange-gradient">        
                      <th> GuestName</th>             
                      <th> City </th>
                      <th>Pincode </th>
                      <th> MobileNo </th> 
                      <th>Action</th>
                  </tr>
                  <tr> </tr>               
                  </thead>
                  <tbody>                    
                   <tr *ngFor="let item of guest; let i = index;">                     
                     <td>{{item.GuestName}}</td>   
                     <td>{{item.City}}</td>   
                     <td>{{item.PINCode}}</td>                   
                     <td>{{item.MobileNo}}</td>        
                    <td class="action-icon">
                        <a href="javascript:;" class="m-r-15 crm-action-edit text-primary"  md-button (click)="openMyGuestNameModalData(item,$event)"> <i class="fa fa-download" aria-hidden="true"></i></a>                     
                    </td>
                  </tr>  
                  </tbody>
                  <!-- <tfoot>
                  <tr class="blueorange-gradient">     
                  <th>GuestName</th>            
                  <th>City</th>    
                  <th>Pincode</th> 
                  <th>MobileNo</th>     
                  <th>Action</th>      
                  </tr>              
                  </tfoot> -->
                </table>
              </div> 
            </div>
          </div>
        </div>     
             <!-- <button (click)="closeMyModalPin($event)" class="btn btn-danger waves-effect m-r-20 f-w-600 md-close d-inline-block">Close</button>              -->
        </div>      
      </app-modal-animation>
  
  
   
  
  <!--//pincode model -->
   
  
      <app-modal-animation [modalID]="'effect-4'" [modalClass]="'md-effect-4 addressmodeleffect'">
        <h3 class="f-15" style="position: relative;">Pincode Details 
         <!-- <button style="position: absolute; right: 0; top:0; color:red"  (click)="closeMyModalPin($event)">Close</button>             -->
       </h3>
          <div class="app-modal-body text-center" style="position: relative;"> 
            <div class="table-content crm-table">
              <div class="project-table addressproject-table">
                <div id="crm-contact" class="dt-responsive">                 
                  <div class="row">         
                    <div class="col-xs-12 col-sm-12 col-md-12">
                      <div class="input-group">
                        <input type="text" #searchTerm class="form-control input-lg full-data-search" placeholder="Search here...">
                        <span class="input-group-append ripple light" id="basic-addon1">
                          <i class="fa fa-search input-group-text" style="font-size: 100%;"></i>                          
                        </span>
                      </div> 
                    </div>      
              </div>  
              <perfect-scrollbar class="overflow-container"  [style.width]="'100%'" [style.height]="'365px'" [config]="config">
                   <div class="table-responsive">
                    <table class="table table-striped table-bordered full-data-table"> 
                          <thead>
                          <tr class="blueorange-gradient">        
                          <th> AreaData</th>
                          <th>City</th>
                          <th> Pincode</th>
                          <th> State</th>
                          <th>Action</th>                                               
                      </tr>
                      <tr>
                      </tr>
                      </thead>
                      <tbody>                        
                       <tr *ngFor="let item of picodelist; let i = index;">                     
                         <td>{{item.AreaData}}</td>   
                         <td>{{item.City}}</td>   
                         <td>{{item.Pincode}}</td>                      
                         <td>{{item.State}}</td>        
                        <td class="action-icon">
                            <a href="javascript:;" class="m-r-15 crm-action-edit text-primary"  md-button (click)="openMyPincodeModalData(item,$event)"> <i class="fa fa-download" aria-hidden="true"></i></a>                          
                        </td>
                      </tr>  
                      </tbody>
                      <!-- <tfoot>
                      <tr class="blueorange-gradient">     
                      <th>AreaData</th>            
                      <th>City</th>    
                      <th>Pincode</th> 
                      <th>State</th>     
                      <th>Action</th>      
                      </tr>                  
                      </tfoot> -->
                    </table>
                  </div> 
                  
                </perfect-scrollbar>
               
                </div>
                
              </div>
            </div>        
            <!-- <button (click)="closeMyModalPin($event)" class="btn btn-danger waves-effect m-r-20 f-w-600 md-close d-inline-block">Close</button>               -->
            </div>          
          </app-modal-animation>
  
  
  
  
  <!-- 
     Referance Model -->
  
     <app-modal-animation [modalID]="'effect-6'" [modalClass]="'md-effect-4 addressmodeleffect'">      
      <h3 class="f-15" >Referance Details
                   
     </h3>
      
     
      <div class="app-modal-body text-center" style="position: relative;"> 
        <div class="container">
          <div class="col-md-12 userlist ">
            <div class="row ">
              <a style="cursor: pointer; display:block; text-align: left; color:blue"*ngIf="addcompanybtn" (click)="addcompanyinmodel()"><i class="fa  fa-plus-circle"></i> Add Reference </a>
              <form #myform = "ngForm" (ngSubmit) = "onSubmitcompany(myform)" class="">
                <div class="app-modal-body text-center addcompany " *ngIf="addcompanydiv" > 
     
                 <a style="cursor: pointer; display:block; text-align: left; color:blue"  (click)="backtosearch()"><i class="fa fa-backward"></i> Back to Search  </a>
                 <div class="col-md-12">
                    
                   <div class="row">                
                    <input type="hidden" name="Id" class="form-control" [(ngModel)]="model.Id" #Id="ngModel" value="{{Id}}"  >
                    <input type="hidden" name="CompanyCode" class="form-control" [(ngModel)]="model.CompanyCode" #CompanyCode="ngModel" value="{{CompanyCode}}"  >
                    <input type="hidden" name="BranchCode" class="form-control" [(ngModel)]="model.BranchCode" #BranchCode="ngModel" value="{{BranchCode}}">
                    <input type="hidden" name="CreatedBy" class="form-control" [(ngModel)]="model.CreatedBy" #CreatedBy="ngModel" value="{{CreatedBy}}">              
            
                     <div class="col-md-4">
                      <label class="required">Reference Name*</label>
                      <input type="text" name="RefName" class="form-control" [(ngModel)]="model.RefName" #RefName="ngModel" value="{{RefName}}"  [ngClass]="{'is-invalid': RefName.touched && RefName.invalid}"  required autocomplete="off">
                          <div *ngIf="RefName.touched && RefName.invalid" class="invalid-feedback">
                             <div *ngIf="RefName.errors.required">RefName is invalid</div>
                         </div>
                     </div>
                     <div class="col-md-4">
                      <label>RefEmail*</label>
                      <input type="text" name="RefEmail" class="form-control" [(ngModel)]="model.RefEmail" #RefEmail="ngModel" value="{{RefEmail}}"  [ngClass]="{'is-invalid': RefEmail.touched && RefEmail.invalid}"  required pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,6})+$" autocomplete="off">
                      <div *ngIf="RefEmail.touched && RefEmail.invalid" class="invalid-feedback">
                        <div *ngIf="RefEmail.errors.required">RefEmail is required</div>
                        <div *ngIf="RefEmail.errors.pattern">RefEmail is invalid</div>
                      </div>
                     </div>
                     <div class="col-md-4"  >
                       
                       <label>MobileNo*</label>
                       <input type="number" name="RefMobileNo" class="form-control" [(ngModel)]="model.RefMobileNo" #RefMobileNo="ngModel" value="{{RefMobileNo}}"  [ngClass]="{'is-invalid': RefMobileNo.touched && RefMobileNo.invalid}"  required   autocomplete="off">
                       <div *ngIf="RefMobileNo.touched && RefMobileNo.invalid" class="invalid-feedback">
                         <div *ngIf="RefMobileNo.errors.required">RefMobileNo Cant'be Empty</div>
                       </div>
                   </div>
                   </div>
                   
                    <button type="submit" class="btn btn-success btn-sm btn-block" style="margin-top:20px;  ">Save</button>
                    <br/>
                    <hr>
     
                 </div>
           
               </div> <!-- company div -->
           </form>
            </div> <!-- form end -->
            <div class="row  ">
              <div class="searchresults" *ngIf="searchresultsdiv" style="width: 100%;">
                <div class="table-content crm-table">
                  <div class="project-table addressproject-table">
                    <div id="crm-contact" class="dt-responsive">
                      <div class="row">         
                        <div class="col-xs-12 col-sm-12 col-md-12">
                          <div class="input-group">
                            <input type="text" autofocus="tur" #searchTermref class="form-control input-lg full-data-search" placeholder="Search here...">
                            <span class="input-group-append ripple light" id="basic-addon1">
                              <i class="fa fa-search input-group-text" style="font-size: 100%;"></i>                          
                            </span>
                          </div> 
                        </div>      
                  </div>             
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered full-data-table"> 
                          <thead>
                          <tr class="blueorange-gradient">        
                          <th>Id</th>                                                             
                          <th>RefName</th>                                                
                          <th>RefMobileNo</th> 
                           <th> Action</th>
                      </tr>
                      <tr> </tr>                  
                      </thead>
                      <tbody>                      
                       <tr *ngFor="let item of referencelist; let i = index;">                     
                         <td>{{item.Id}}</td>   
                         <td>{{item.RefName}}</td>   
                         <td>{{item.RefMobileNo}}</td>     
                        <td class="action-icon">
                            <a href="javascript:;" class="m-r-15 crm-action-edit text-primary"    (click)="PatchRefenceDetail(item,$event)"> <i class="fa fa-download" aria-hidden="true"></i></a>                          
                        </td>
                      </tr>  
                      </tbody>
                      
                    </table>
                  </div> 
                    </div>
                  </div>
                </div>
              </div>    <!-- search results  div --> 
            </div><!-- end serach results-->
          </div>
        </div>
      </div>

      

        <div class="app-modal-body text-center" style="position: relative;">  
               <button (click)="closeMyModalPin($event)" class="btn btn-danger waves-effect m-r-20 f-w-600 md-close d-inline-block">Close</button>   
          </div>  

        </app-modal-animation>
        <!-- above company code for reference end -->

      
 




          <app-modal-animation [modalID]="'effect-1'" [modalClass]="'md-effect-4 addressmodeleffect'">
            <h3 class="f-15"> Details</h3>
              <div class="app-modal-body text-center" style="position: relative;"> 
                <div class="table-content crm-table">
                  <div class="project-table addressproject-table">
                    <div id="crm-contact" class="dt-responsive">
                                   
                   
                       <div class="table-responsive">
                        <table class="table table-striped table-bordered full-data-table"> 
                          <thead>
                            <tr> 
                              <th style="text-align:left;">Date</th>        
                              <th *ngFor="let list of  roomstype">
                                  {{ list.RoomType}}
                              </th>       
                            </tr>
                                        
                          </thead>
                          <tbody>                    
                           <tr *ngFor="let item of Availabilitylist; let i = index;">  
                           
                            <td style="text-align:left;">{{item.Date}}</td>                   
                            
                            <td *ngFor="let subarray of  item.Rooms" >
                              {{ subarray.Rooms}}
                            </td>
                            
                            
                          </tr>  
                          </tbody>
                         
                        </table>
                       
                      </div> 
                    </div>
                  </div>
                </div>     
                     <button (click)="closeMyModalPin($event)" class="btn btn-danger waves-effect m-r-20 f-w-600 md-close d-inline-block">Close</button>             
                </div>      
              </app-modal-animation>



          <ng2-toasty [position]="position"></ng2-toasty>